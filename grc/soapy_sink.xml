<?xml version="1.0"?>
<block>
  <name>soapy_sink</name>
  <key>soapy_soapy_sink</key>
  <category>[soapy]</category>
  <import>import soapy</import>
  <make>\
      soapy.sink($freq, $gain, $samp_rate, $bw, $antenna, $chan, \ 
      $dc_offset, $offset_mode, $correction, $balance, $clock_source, $dev)\
  </make>

  <callback>set_gain($chan, $gain)</callback>
  <callback>set_frequency($chan, $freq)</callback>

  <param>
    <name>Frequency</name>
    <key>freq</key>
    <type>float</type>
  </param>

  <param>
    <name>Gain</name>
    <key>gain</key>
    <type>float</type>
  </param>
  
  <param>
    <name>Sampling Rate</name>
    <key>samp_rate</key>
    <type>float</type>
  </param>

  <param>
    <name>Bandwidth</name>
    <key>bw</key>
    <type>float</type>
  </param>
  
  <param>
      <name>Antenna</name>
      <key>antenna</key>
      <type>string</type>
  </param>

  <param>
      <name>Channel</name>
      <key>chan</key>
      <value>0</value>
      <type>int</type>
  </param>

    <param>
      <name>DC Offset</name>
      <key>dc_offset</key>
      <type>complex</type>
  </param>

  <param>
      <name>Automatic DC Offset Mode</name>
      <key>offset_mode</key>
      <value>True</value>
      <type>bool</type>
  </param>

  <param>
      <name>Frequency Correction</name>
      <key>correction</key>
      <value>0</value>
      <type>real</type>
  </param>

  <param>
      <name>IQ Balance Correction</name>
      <key>balance</key>
      <type>complex</type>
  </param>

  <param>
      <name>Clock Source</name>
      <key>clock_source</key>
      <type>string</type>
  </param>

  <param>
    <name>Device</name>
    <key>dev</key>
    <type>string</type>
  </param>
  
  <sink>
    <name>in</name>
    <type>complex</type>
  </sink>
  
  <sink>
    <name>command</name>
    <type>message</type>
    <optional>1</optional>
  </sink>
  
</block>
